// Translations for different languages
const translations = {
  en: {
    appName: "Muslim Companion",
    appDesc: "A comprehensive Chrome extension for Muslims featuring prayer times, Qibla direction, reminders, and more",
    prayerTimes: "Prayer Times",
    qiblaDirection: "Qibla Direction",
    dailyInspiration: "Daily Inspiration",
    settings: "Settings",
    fajr: "Fajr",
    sunrise: "Sunrise",
    dhuhr: "Dhuhr",
    asr: "Asr",
    maghrib: "Maghrib",
    isha: "Isha",
    nextPrayer: "Next prayer",
    tomorrow: "Tomorrow",
    qiblaIs: "Qibla is ${degrees}° from North",
    detectingLocation: "Detecting location...",
    locationDetectionFailed: "Location detection failed",
    calculationMethod: "Calculation Method",
    enableNotifications: "Enable Prayer Time Notifications",
    language: "Language",
    save: "Save",
    reset: "Reset",
    aboutApp: "About & Help",
    version: "Version",
    quran: "Quran",
    hadith: "Hadith",
    yourDailyCompanion: "Your daily Islamic companion",
    quickLinks: "Quick Links"
  },
  ar: {
    appName: "رفيق المسلم",
    appDesc: "إضافة شاملة لمتصفح كروم للمسلمين تتضمن أوقات الصلاة واتجاه القبلة والتذكيرات والمزيد",
    prayerTimes: "أوقات الصلاة",
    qiblaDirection: "اتجاه القبلة",
    dailyInspiration: "إلهام يومي",
    settings: "الإعدادات",
    fajr: "الفجر",
    sunrise: "الشروق",
    dhuhr: "الظهر",
    asr: "العصر",
    maghrib: "المغرب",
    isha: "العشاء",
    nextPrayer: "الصلاة القادمة",
    tomorrow: "غدًا",
    qiblaIs: "القبلة هي ${degrees}° من الشمال",
    detectingLocation: "جارٍ تحديد الموقع...",
    locationDetectionFailed: "فشل تحديد الموقع",
    calculationMethod: "طريقة الحساب",
    enableNotifications: "تفعيل تنبيهات مواقيت الصلاة",
    language: "اللغة",
    save: "حفظ",
    reset: "إعادة تعيين",
    aboutApp: "حول التطبيق والمساعدة",
    version: "الإصدار",
    quran: "القرآن",
    hadith: "الحديث",
    yourDailyCompanion: "رفيقك الإسلامي اليومي",
    quickLinks: "روابط سريعة"
  },
  fr: {
    appName: "Compagnon Musulman",
    appDesc: "Une extension Chrome complète pour les musulmans avec les heures de prière, la direction de la Qibla, des rappels et plus encore",
    prayerTimes: "Heures de Prière",
    qiblaDirection: "Direction de la Qibla",
    dailyInspiration: "Inspiration Quotidienne",
    settings: "Paramètres",
    fajr: "Fajr",
    sunrise: "Lever du soleil",
    dhuhr: "Dhuhr",
    asr: "Asr",
    maghrib: "Maghrib",
    isha: "Isha",
    nextPrayer: "Prochaine prière",
    tomorrow: "Demain",
    qiblaIs: "La Qibla est à ${degrees}° du Nord",
    detectingLocation: "Détection de la localisation...",
    locationDetectionFailed: "Échec de la détection de l'emplacement",
    calculationMethod: "Méthode de Calcul",
    enableNotifications: "Activer les Notifications de Prière",
    language: "Langue",
    save: "Enregistrer",
    reset: "Réinitialiser",
    aboutApp: "À propos & Aide",
    version: "Version",
    quran: "Coran",
    hadith: "Hadith",
    yourDailyCompanion: "Votre compagnon islamique quotidien",
    quickLinks: "Liens Rapides"
  },
  ur: {
    appName: "مسلم کمپینین",
    appDesc: "مسلمانوں کے لیے ایک جامع کروم ایکسٹینشن جس میں نماز کے اوقات، قبلہ کی سمت، یاد دہانیاں، اور مزید شامل ہیں",
    prayerTimes: "نماز کے اوقات",
    qiblaDirection: "قبلہ کی سمت",
    dailyInspiration: "روزانہ کی تحریک",
    settings: "ترتیبات",
    fajr: "فجر",
    sunrise: "طلوع آفتاب",
    dhuhr: "ظہر",
    asr: "عصر",
    maghrib: "مغرب",
    isha: "عشاء",
    nextPrayer: "اگلی نماز",
    tomorrow: "کل",
    qiblaIs: "قبلہ شمال سے ${degrees}° پر ہے",
    detectingLocation: "مقام کا پتہ لگا رہا ہے...",
    locationDetectionFailed: "مقام کا پتہ لگانے میں ناکامی",
    calculationMethod: "حساب کا طریقہ",
    enableNotifications: "نماز کے اوقات کی اطلاعات فعال کریں",
    language: "زبان",
    save: "محفوظ کریں",
    reset: "ری سیٹ کریں",
    aboutApp: "ایپ کے بارے میں اور مدد",
    version: "ورژن",
    quran: "قرآن",
    hadith: "حدیث",
    yourDailyCompanion: "آپ کا روزانہ اسلامی ساتھی",
    quickLinks: "فوری روابط"
  }
};

// Translation function
function getTranslation(key, lang, placeholders = {}) {
  // Get the translation string from the specified language, fallback to English
  const translation = translations[lang]?.[key] || translations['en'][key] || key;
  
  // Replace any placeholders in the string
  return translation.replace(/\${(\w+)}/g, (match, placeholder) => {
    return placeholders[placeholder] !== undefined ? placeholders[placeholder] : match;
  });
}